(this["webpackJsonpweather-app"]=this["webpackJsonpweather-app"]||[]).push([[0],{109:function(e,t,a){},132:function(e,t,a){},133:function(e,t,a){"use strict";a.r(t);var n=a(1),c=a.n(n),i=a(39),r=a.n(i),s=(a(109),a(4)),l=a.n(s),o=a(23),d=a(40),u=a(3),m=a(22),j=a.n(m),h=a(41),b="21cb2627c4a730e2b49bd1b03345178a",p="ddd, DD MMMM, HH:mm",f="HH:mm",O=["Dnipro","Kyiv","London","Cherkasy","Hobart","Kazan","Moscow","Cairo","Reykjav\xedk"],x=["\u0414\u043d\u0456\u043f\u0440\u043e","\u041a\u0438\u0457\u0432","\u041b\u043e\u043d\u0434\u043e\u043d","\u0427\u0435\u0440\u043a\u0430\u0441\u0438","\u0425\u043e\u0431\u0430\u0440\u0442","\u041a\u0430\u0437\u0430\u043d\u044c","\u041c\u043e\u0441\u043a\u0432\u0430"],g=["\u0414\u043d\u0435\u043f\u0440","\u041a\u0438\u0435\u0432","\u041b\u043e\u043d\u0434\u043e\u043d","\u0427\u0435\u0440\u043a\u0430\u0441\u0441\u044b","\u0425\u043e\u0431\u0430\u0440\u0442","\u041a\u0430\u0437\u0430\u043d\u044c","\u041c\u043e\u0441\u043a\u0432\u0430","\u0411\u0443\u0433\u0440\u0438\u043d\u043e","\u041c\u0435\u0445\u0430\u043c\u043d","\u0412\u0435\u0440\u0445\u043e\u044f\u043d\u0441\u043a"],v="Feels like",N="Wind",S="Humidity",k="Pressure",w="m/s",y="Pa",C="\u0412\u0456\u0434\u0447\u0443\u0432\u0430\u0454\u0442\u044c\u0441\u044f, \u044f\u043a",F="\u0412\u0456\u0442\u0435\u0440",M="\u0412\u043e\u043b\u043e\u0433\u0456\u0441\u0442\u044c",P="\u0422\u0438\u0441\u043a",_="\u043c/\u0441",H="\u041f\u0430",I="\u041f\u043e \u043e\u0449\u0443\u0449\u0435\u043d\u0438\u044f\u043c",J="\u0412\u0435\u0442\u0435\u0440",W="\u0412\u043b\u0430\u0436\u043d\u043e\u0441\u0442\u044c",D="\u0414\u0430\u0432\u043b\u0435\u043d\u0438\u0435",A="\u043c/\u0441",B="\u041f\u0430",L=(a(21),a(0)),E=function(e){var t,a,n,c=e.getWeather,i=e.changeSelect,r=e.select,s=e.input,l=e.handleChange;switch(r){case"en":t=O,a="Add",n="City name...";break;case"ua":t=x,a="\u0414\u043e\u0434\u0430\u0442\u0438",n="\u041d\u0430\u0437\u0432\u0430 \u043c\u0456\u0441\u0442\u0430 ...";break;case"ru":t=g,a="\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c",n="\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0433\u043e\u0440\u043e\u0434\u0430..."}return Object(L.jsxs)("div",{className:"top-form",children:[Object(L.jsxs)("form",{onSubmit:c,children:[Object(L.jsx)(h.Hint,{options:t,children:Object(L.jsx)("input",{type:"text",name:"city",placeholder:n,value:s,onChange:l})}),Object(L.jsx)("button",{className:"form-button",children:a})]}),Object(L.jsxs)("select",{id:"listLang",className:"lang-block",defaultValue:r,onChange:i,children:[Object(L.jsx)("option",{value:"en",children:" en "}),Object(L.jsx)("option",{value:"ua",children:" ua "}),Object(L.jsx)("option",{value:"ru",children:" ru "})]})]})},q=a(6),K=function(e){var t=e.id,a=e.time,n=e.width,c=e.height,i=e.colorStopStart,r=e.units,s=q.d().domain(a.map((function(e){return e.name}))).range([0,n]),l=q.e().domain([0,40]).range([c,0]),o=q.a().x((function(e){return s(e.name)+s.bandwidth()/4})).y0((function(e){return l(Math.abs(e.value))})).y1((function(){return l(0)})).curve(q.c)(a);return Object(L.jsx)("div",{className:"scale-block",children:Object(L.jsxs)("svg",{className:"svg",width:n,height:c,children:[Object(L.jsx)("g",{className:"axis xAxis",ref:function(e){var t=q.b(s);q.f(e).call(t)},transform:"translate(0, 45)"}),Object(L.jsxs)("linearGradient",{id:"linear-gradient-"+t,x1:"0%",y1:"0%",x2:"0%",y2:"100%",children:[Object(L.jsx)("stop",{offset:"0%",stopColor:i}),Object(L.jsx)("stop",{offset:"100%",stopColor:"#FFF4F4"})]}),Object(L.jsx)("path",{fill:"url(#linear-gradient-".concat(t,")"),d:o,opacity:.3}),Object(L.jsx)("g",{children:a.map((function(e,t){return Object(L.jsx)("g",{className:"temp-points",children:Object(L.jsx)("text",{fill:"#C5C5C5",x:s(e.name)+s.bandwidth()/2,y:l(Math.abs(e.value))-5,textAnchor:"middle",children:"metric"===r?Math.round(e.value):Math.round(1.8*e.value+32)})},t)}))})]})})},T=function(e){var t=e.id,a=e.data,c=e.date,i=e.time,r=e.Feels_like,s=e.Wind,l=e.Humidity,o=e.Pressure,d=e.Pa,m=e.m_s,j=e.removeCards,h=e.colorStopStart,b=Object(n.useState)("metric"),p=Object(u.a)(b,2),f=p[0],O=p[1];return Object(L.jsxs)("div",{className:"form-wrap",style:{backgroundColor:a.main.temp>0?"#fff1fe":"#f1f2ff"},children:[Object(L.jsxs)("div",{className:"form-header",children:[Object(L.jsxs)("div",{className:"name-block",children:[Object(L.jsxs)("div",{className:"name",children:[a.name,", ",a.sys.country]}),Object(L.jsx)("div",{className:"date",children:c})]}),Object(L.jsxs)("div",{className:"img-block",children:[Object(L.jsx)("img",{className:"img-fluid",src:"https://openweathermap.org/img/wn/".concat(a.weather[0].icon,"@2x.png"),alt:""}),Object(L.jsx)("span",{className:"description",children:a.weather[0].main})]})]}),Object(L.jsx)(K,{width:300,height:50,id:t,time:i,units:f,colorStopStart:h}),Object(L.jsx)("div",{className:"form-bottom",children:Object(L.jsxs)("div",{className:"temp-block",children:[Object(L.jsxs)("div",{className:"temp-item",children:[Object(L.jsxs)("div",{className:"temp-element",children:[a.main.temp>0?"+":null,"metric"===f?Math.round(a.main.temp):Math.round(1.8*a.main.temp+32)]}),Object(L.jsxs)("div",{className:"units-items",children:[Object(L.jsx)("button",{onClick:function(){O("metric")},className:"metric"===f?"metric active":"metric",children:"\u2103"}),Object(L.jsx)("span",{className:"strip",children:" | "}),Object(L.jsx)("button",{href:"",onClick:function(){O("imperial")},className:"imperial"===f?"imperial active":"imperial",children:"\u2109"})]}),Object(L.jsxs)("div",{className:"feels",children:[r,": ",a.main.feels_like>0?"+":null," ","metric"===f?"".concat(Math.round(a.main.feels_like)," \xb0C"):"".concat(Math.round(1.8*a.main.feels_like+32)," \xb0F"),"  "]})]}),Object(L.jsxs)("div",{className:"wind-block",children:[Object(L.jsxs)("div",{children:[s,": ",Object(L.jsxs)("span",{children:[Math.round(a.wind.speed)," ",m]})]}),Object(L.jsxs)("div",{children:[l,": ",Object(L.jsxs)("span",{children:[a.main.humidity,"%"]})]}),Object(L.jsxs)("div",{children:[o,": ",Object(L.jsxs)("span",{children:[a.main.pressure,d]})]})]})]})}),Object(L.jsx)("div",{className:"del",onClick:function(){return j(t)},children:"\u2716"})]},t)},z=function(e){return"en"===e?[v,N,S,k,y,w]:"ua"===e?[C,F,M,P,H,_]:"ru"===e?[I,J,W,D,B,A]:void 0},G=a(14),R=a.n(G),V=function(){var e=JSON.parse(localStorage.getItem("lang"))?JSON.parse(localStorage.getItem("lang")):"en",t=JSON.parse(localStorage.getItem("data"))?JSON.parse(localStorage.getItem("data")):"",a=Object(n.useState)(t),c=Object(u.a)(a,2),i=c[0],r=c[1],s=Object(n.useState)(e),m=Object(u.a)(s,2),h=m[0],O=m[1],x=Object(n.useState)(""),g=Object(u.a)(x,2),v=g[0],N=g[1],S=Object(n.useState)(""),k=Object(u.a)(S,2),w=k[0],y=k[1],C=new Date;Object(n.useEffect)((function(){if(!i){navigator.geolocation.getCurrentPosition((function(e){var t=e.coords,a=t.latitude,n=t.longitude;fetch("https://api.openweathermap.org/geo/1.0/reverse?lat=".concat(a,"&lon=").concat(n,"&appid=").concat(b)).then((function(e){return e.json()})).then((function(e){return N(e[0].name)}),(function(e){return e}))}))}}),[]),Object(n.useEffect)((function(){localStorage.setItem("data",JSON.stringify(i)),localStorage.setItem("lang",JSON.stringify(h))}),[i,h]);var F=function(){var e=Object(d.a)(l.a.mark((function e(t){var a,n,c,s,d,u,m;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),y(v),N(""),a=z(h),e.prev=4,e.next=7,j.a.get("https://api.openweathermap.org/data/2.5/forecast?q=".concat(v,"&appid=").concat(b,"&units=metric"));case 7:return n=e.sent,c=n.data.list.filter((function(e){return R()(C).isSame(e.dt_txt,"day")})),(s=c.map((function(e){return{name:R()(e.dt_txt).format(f),value:Math.floor(e.main.temp)}}))).unshift({name:" ",value:1}),s.push({name:"",value:1}),e.next=14,j.a.get("https://api.openweathermap.org/data/2.5/weather?q=".concat(v,"&units=metric&appid=").concat(b,"&lang=").concat(h));case 14:d=e.sent,u=Math.round(d.data.main.temp)<0?"#5B8CFF":"#FF715B",m={id:Math.random().toString(15),card:d.data,color:u,date:R()(C).format(p),Feels_like:a[0],Wind:a[1],Humidity:a[2],Pressure:a[3],Pa:a[4],m_s:a[5],graph:s},r([].concat(Object(o.a)(i),[m])),e.next=23;break;case 20:e.prev=20,e.t0=e.catch(4),N("en"===h?"Wrong data":"ua"===h?"\u041d\u0435\u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u0456 \u0434\u0430\u043d\u0456":"\u041d\u0435\u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u044b\u0435 \u0434\u0430\u043d\u043d\u044b\u0435");case 23:case"end":return e.stop()}}),e,null,[[4,20]])})));return function(t){return e.apply(this,arguments)}}(),M=function(e){r(Object(o.a)(i.filter((function(t){return t.id!==e}))))};return Object(L.jsxs)(L.Fragment,{children:[Object(L.jsx)("header",{className:"header"}),Object(L.jsxs)("div",{className:"main-wrap",children:[Object(L.jsx)(E,{getWeather:F,changeSelect:function(e){O(e.target.value)},handleChange:function(e){N(e.target.value)},input:v,select:h}),i&&Object(L.jsx)("div",{className:"form-block",children:i.map((function(e,t){return Object(L.jsx)(T,{data:e.card,colorStopStart:e.color,id:e.id,date:e.date,removeCards:M,input:w,time:e.graph,Feels_like:e.Feels_like,Wind:e.Wind,Humidity:e.Humidity,Pressure:e.Pressure,Pa:e.Pa,m_s:e.m_s},t)}))})]})]})},Q=(a(132),function(){return Object(L.jsx)("div",{className:"App",children:Object(L.jsx)(V,{})})}),U=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,134)).then((function(t){var a=t.getCLS,n=t.getFID,c=t.getFCP,i=t.getLCP,r=t.getTTFB;a(e),n(e),c(e),i(e),r(e)}))};r.a.render(Object(L.jsx)(c.a.StrictMode,{children:Object(L.jsx)(Q,{})}),document.getElementById("root")),U()},21:function(e,t,a){}},[[133,1,2]]]);
//# sourceMappingURL=main.eaa167e1.chunk.js.map